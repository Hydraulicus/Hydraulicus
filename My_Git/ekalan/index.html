  <!DOCTYPE HTML>
  <!-- <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> -->
  <!-- <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"> -->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="author" content="Alexei Zababurin" />
    <meta name="description" content="Frontend developer. Personal website.CSS. CSS3. HTML5. JS. SVG. animation. CSS-animation. SVG-animation. Vector. scroll"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta property="og:title" content="EKALAN by Alexei Zababurin"/>
    <meta property="og:site_name" content="EKALAN by Alexei Zababurin"/>
    <meta property="og:description" content="EKALAN by Alexei Zababurin"/>
    <title>EKALAN by Alexei Zababurin</title>
    <!-- CSS  -->
    <!-- <link href='http://fonts.googleapis.com/css?family=Playfair+Display' rel='stylesheet' type='text/css'> -->
    <link href="css/normalize.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <link href="css/flex.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <!-- <link href="css/bootstrap.css" type="text/css" rel="stylesheet" media="screen,projection"/> -->
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/font-awesome.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>

  
    <link href="css/tabs.css" type="text/css" rel="stylesheet" media="screen,projection"/>

  </head>
  <body>

  <!--
              <p> </p><p> Getted values - : <textarea id="setKnobVal" rows="1" cols="10" name="text"></textarea></p> -->
      <div class="flex_container" style="">

  <!-- ===================== FRONT ====================== -->

              <div class="flex_block" style="background-color: #deefef; margin:1em; padding:1em; flex: 0 0 400px; ">

              <!-- <div class=" flex_block " style=" flex: 0 1 590px; justify-content: flex-start; "> -->
  <div style='position: absolute;'><!-- block for radial menus-->

  <div  class="menu-wrapper" style=" left:1%;  "><!--  style="width:20em; height:20em; padding:-5em" -->

      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-2 -2 504 252" id="menu" style="transform-origin: 50% 50% 0px; transform: matrix3d(-0.999997, 0.00242827, 0, 0, -0.00242827, -0.999997, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); touch-action: none; -webkit-user-select: none;">

      <g id="symbolsContainer">    <symbol class="icon icon-" id="icon-1" viewBox="0 0 39 39"><!--Replace the contents of this symbol with the content of your icon-->
      <!-- <rect fill="none" stroke="#bbb" stroke-width="1" width="100%" height="100%"></rect> -->
      <text fill="#222" x="50%" y="50%" dy=".3em" text-anchor="middle" font-size="2.02em">L</text></symbol>

          <symbol class="icon icon-" id="icon-2" viewBox="0 0 39 39"><!--Replace the contents of this symbol with the content of your icon-->
          <!-- <rect fill="none" stroke="#bbb" stroke-width="1" width="100%" height="100%"></rect> -->
          <text fill="#222" x="50%" y="50%" dy=".3em" text-anchor="middle" font-size="2.02em">|</text></symbol>

          <symbol class="icon icon-" id="icon-3" viewBox="0 0 39 39"><!--Replace the contents of this symbol with the content of your icon-->
          <!-- <rect fill="none" stroke="#bbb" stroke-width="1" width="100%" height="100%"></rect> -->
          <text fill="#222" x="50%" y="50%" dy=".3em" text-anchor="middle" font-size="2.02em">U</text></symbol>

      </g>
    <g id="itemsContainer">
      <g id="item-1" class='item' transform="matrix(1,0,0,1,0,0)" >
        <path    fill="coral" stroke="#111" d="M330,250 l170,0 A250,250 0 0,0 399.28964792569656,49.46920181123906 l-101.51696058947368,136.36094276835743 A80,80 0 0,1 330,250" class="sector"></path>
        <use xlink:href="#icon-1" width="69" height="69" x="374.5666198730469" y="135.61375427246094" transform="rotate(63.33333333333333 409.0666198730469 170.11375427246094)"></use>
      </g>

      <g id="item-2" class='item' transform="matrix(0.44879,-0.89363,0.89363,0.44879,-85.60795513096855,361.2083650307376)">
        <path fill="none" stroke="#111" d="M330,250 l170,0 A250,250 0 0,0 399.28964792569656,49.46920181123906 l-101.51696058947368,136.36094276835743 A80,80 0 0,1 330,250" class="sector"></path>
        <use xlink:href="#icon-2" width="69" height="69" x="374.5666198730469" y="135.61375427246094" transform="rotate(63.33333333333333 409.0666198730469 170.11375427246094)"></use>
      </g>
      <g id="item-3" class='item' transform="matrix(-0.59715,-0.80212,0.80212,-0.59715,198.7588497369357,599.8204461144576)" >
        <path fill="none" stroke="#111" d="M330,250 l170,0 A250,250 0 0,0 399.28964792569656,49.46920181123906 l-101.51696058947368,136.36094276835743 A80,80 0 0,1 330,250" class="sector"></path>
        <use xlink:href="#icon-3" width="69" height="69" x="374.5666198730469" y="135.61375427246094" transform="rotate(63.33333333333333 409.0666198730469 170.11375427246094)"></use>
      </g>
    </g>
    <defs><pattern x="0" y="0" width="10" height="10" patternUnits="userSpaceOnUse" id="Sik2qyck43" viewBox="0 0 10 10"><path d="M10-5-10,15M15,0,0,15M0-5-20,15" fill="none" stroke="BurlyWood" style="stroke-width: 5px;"></path></pattern></defs>

      <g id="trigger" class="trigger menu-trigger" role="button">
      <circle cx="250" cy="250" r="62" ></circle><!-- fill="url('#Sik2qyck43')"  -->
      <!-- <symbol class="icon icon-" id="icon-0" viewBox="0 0 39 39"></symbol> -->
  <text  id="label" fill="#222" x="50%" y="50%" dy=".3em" text-anchor="middle" font-size="1.75em"  transform="translate(500, 380) rotate(180)">Тип</text>
      </g>
      </svg>
  </div> <!-- end of menu-wrapper -->
  </div> <!-- end block for radial menus-->
        <!--  </div > --><!-- end of flex svg-menu block -->

              <!-- <div class="flex_block" style=" padding:1em; flex: 0 0 590px; width:590px; height:590px;"> -->
              <!-- <div contenteditable="true" > -->
              <div id='frontViewWrapper'  style="flex: 0 0 530px; "><!-- //Farefox can get size only from parent div. -->
                    <svg id="frontView" class="flex_block"  width="530px"  height="530px" xmlns="http://www.w3.org/2000/svg" version="1.20"  xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 3000 3000">
                    </svg>
              </div ><!-- end of frontViewWrapper -->



              <!-- </div > --><!-- end of flex svg-menu container -->
   </div ><!-- ================================ end of FRONT ========================================================= -->
<!-- 

  <div style="text-align:center;clear:both">
  </div> -->
     <!-- TAB TEMPLATE -->
  <svg id="tab-left" style="fill: transpartent; stroke: none; position: absolute; margin-left: -200%;" >
  
    <polygon id="tab-shape-left" class="tab-shape tab-shape-left" points="900,30 0,30 10,0 900,0" />
    <polygon id="tab-shape-right" class="tab-shape tab-shape-right" points="20,30 0,30 0,0" />
    <rect id="square" width="24" height="23" fill="rgba(255,255,255,.85)" stroke="none" stroke-width="0" />
    <g id="icon-contact">
    <g id="bg">
    <!-- <rect opacity="0.3" fill="#8E25EE" width="24" height="16"/> -->
    </g>
    <g id="outer">
    <!-- <path opacity="0.85" fill="#FFFFFF" d="M0,0v16h24V0H0z M21,14H3V3.25L12,10l9-6.75V14z M5.333,2h13.333L12,7L5.333,2z"/> -->
          <path opacity="0.85" fill="#eee"  stroke-width='2' stroke='#fff' d="M24 0 l-17 0c-4,0 -1,9 -6,9l0 6 9 0 0 -9 14 0"/>
    <!-- <path opacity="0.85" fill="#FFFFFF" d="M0,0v16h24V0H0z M21,14H3V3.25L12,10l9-6.75V14z M5.333,2h13.333L12,7L5.333,2z"/> -->
    </g>
    </g>
    <g id="icon-home" width="24" height="23">
    <g id="inner">
    <g>
    <!-- <polyline opacity="0.6" fill="#0095B3" points="15,13 9,13 9,22 3,22 3,12 12,1 21,11.995 21,22 15,22     "/> -->
    </g>
    </g>
    <g id="outer">
    <!-- <path opacity="0.95" fill="#FFFFFF" d="M12,0L0,14h2v9h8v-9h4v9h8v-9h2L12,0z M20,22h-4v-9H8v9H4V11.993L12,2l8,9.986V22z"/> -->
    <path opacity="0.95"  fill="#eee"  stroke-width='2' stroke='#fff' d="M26,26l-26 0 0 -25c7,0 9,1 9,6l0 3c-1,6 3,7 7,7l10 0"/>
    </g>
    </g>
    <g id="icon-about" width="24" height="23">
    <!--  <rect x="-2" y="-1" display="inline" fill="#173EAD" width="28" height="26"/> -->
    <g id="inner">
    <polygon opacity="0.85" fill="#1782CF" points="1,22 6,19 9,17 6,9 8,3 12,1 16,3 18,9 14,17 16,19 20,20 23,22  "/>
    </g>
    <g id="outer">
    <path opacity="0.95" fill="#FFFFFF" d="M20.485,19.603c-1.067-0.444-2.335-0.817-3.741-1.083c-0.877-0.387-1.494-1.249-1.494-2.27 c0-0.436,0.125-0.837,0.322-1.192c1.54-1.464,2.536-3.751,2.536-6.33c0-4.419-2.911-8-6.5-8c-3.59,0-6.5,3.581-6.5,8 c0,2.609,1.02,4.921,2.592,6.381C7.881,15.453,8,15.834,8,16.25c0,1.21-0.859,2.218-2,2.449v0.04
    c-0.908,0.215-1.748,0.476-2.485,0.782C1.343,20.427,0,21.619,0,23h24C24,21.619,22.656,20.508,20.485,19.603z M4.062,21H4 c0.042-0.625,1.317-0.796,4.007-1.395c2.402-1.048,2.618-4.022,1.001-5.564C7.854,13.088,7,11.443,7,9c0-4.188,2.542-7.041,5-7 c2.458,0.041,4,2.812,4,7c0,2.678-0.89,4.404-2.078,5.304c-1.63,2.196-0.61,4.23,2.006,5.313C18.665,20.239,20,20.625,20,21H4.062z "/>
    </g>
    </g>
    <g id="icon-lab" width="24" height="23">
    <g id="outer">
    <polygon opacity="0.95" fill="#FFFFFF" points="21.999,22 2,22 8,10 2,1 10,1 10,3 7,3 11,10 6,20 18,20 13,10 17,3 14,3 14,1 22,1 16,10   "/>
    </g>
    <g id="inner">
    <polygon opacity="0.6" fill="#4768EB" points="6,20 11,10 7,3 10,3 10,1 14,1 14,3 17,3 13,10 18,20   "/>
    </g>
    </g>
  
  </svg>
  
  <div class="container">
  
    <nav role="navigation" class="main-navigation">
      <ul style = 'margin:0'>
        <li class="tab-1 active" data-bg-color="linear-gradient(to top, #eee, hsl(190, 100%, 35%))">
        <a href="#home">
          <span>Борт</span>
          <svg class="tab-left">
            <use xlink:href="#tab-shape-left"></use>
          </svg>
          <svg class="icon icon-home">
            <use xlink:href="#icon-home"></use>
          </svg>
          <svg class="tab-right">
            <use xlink:href="#tab-shape-right"></use>
          </svg>
        </a>
        </li>
<!--         <li class="tab-2" data-bg-color="linear-gradient(to top, #eee, hsl(205, 80%, 45%))">
        <a href="#about">
          <span>About</span>
          <svg class="tab-left">
            <use xlink:href="#tab-shape-left"></use>
          </svg>
          <svg class="icon icon-about">
            <use xlink:href="#icon-about"></use>
          </svg>
          <svg class="tab-right">
            <use xlink:href="#tab-shape-right"></use>
          </svg>
        </a>
        </li> -->
        <li class="tab-3" data-bg-color="linear-gradient(to top, #eee,  hsl(228,80%,60%))">
        <a href="#lab">
          <span>Lab</span>
          <svg class="tab-left">
            <use xlink:href="#tab-shape-left"></use>
          </svg>
          <svg class="icon icon-lab">
            <use xlink:href="#icon-lab"></use>
          </svg>
          <svg class="tab-right">
            <use xlink:href="#tab-shape-right"></use>
          </svg>
        </a>
        </li>
        <li class="tab-4" data-bg-color="linear-gradient(to top, #eee, hsl(255,80%,65%))">
        <a href="#contact">
          <span>Кромки</span>
          <svg class="tab-left">
            <use xlink:href="#tab-shape-left"></use>
          </svg>
          <svg class="icon icon-contact">
            <use xlink:href="#icon-contact"></use>
          </svg>
          <svg class="tab-right">
            <use xlink:href="#tab-shape-right"></use>
          </svg>
        </a>
        </li>
      </ul>
    </nav>
  

                <div class="main-content flex_block" style="background-color: #deefef;  flex: 0 0 530px; "><!-- margin:1em;  padding:1em;  -->
                <div class="">
                  <p> </p>
                    <svg id="svgout" class="flex_block"   width="530px" height="530px" xmlns="http://www.w3.org/2000/svg" version="1.20"  xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 3000 3000"><!--style='border: 1px solid #aaa' preserveAspectRatio="xMinYMin meet" -->

                    </svg>

                </div>
              </div>

  </div><!-- /.container -->



               <div class="flex_block" style="flex: 1 1 auto; background-color: #eee; opacity: 0.5; padding:1em;">
            <!-- <p>  Price table</p> -->
                 <table id='priceTable' class="editableTable" style='width:40rem'>
                   <tr>
                    <th>&nbsp;</th><th>L, мм</th><th>W, мм</th><th>S, м.кв.</th><th>Цена,$</th>
                   </tr>
                   <!-- <tr><td>ИТОГО</td><td></td><td></td><td id='OF'></td></tr> -->
                  </table>
                </div >





       </div> <!-- end of flex_container -->

  <!-- Define content -->
  <!-- <div id="dimInputModal" class="popover "  > --> <!-- style='width:20rem' -->
   <!-- <div id="dimInputModal" class="modal fade"> -->
   <div id="WrappdimInputModal" class="modal fade bs-example-modal-sm" data-backdrop="false" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" >
    <div id="dimInputModal" class="modal-dialog  modal-sm">
          <div class="modal-content">

            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
              <h4 class="modal-title">Задать размер</h4>
            </div>
          <div class="modal-body">
                <form class="form-horizontal add-new-page-form">
                  <fieldset>
                    <input type="number" id='changeDim' min="100" max="750 "   onkeypress="return dontSubmit(event);"/><i class="fa fa-exclamation-circle" style='opacity:0; margin : 0.5rem 1rem; '></i>
                      <p>
                      </p>
                  </fieldset>
              </form>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-default " data-dismiss="modal">Закрыть</button> 
              <button type="button" id="save-button"  class="btn btn-primary "  data-dismiss="modal">Сохранить изменения</button><!--type="submit"   -->
            </div>


          </div><!-- /.modal-content -->
        <!-- </div> -->
     </div> <!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <!-- 
  <p style="z-index:10; position:fixed; display:none" id="besideMouse">!!!!!!!!!</p>
   -->
    <!--  Scripts-->
    <script src="js/jquery-2.2.0.min.js"></script>
    <!--
    <script src="js/jquery-1.11.2.min.js"></script>
     -->

    <script src="js/bootstrap.min.js"></script>

    <script src="js/snap.svg-min.js"></script>
    <script src="js/abacus.js"></script>
    <script src="js/saramenu.js"></script><!-- sara soueidan -->


    <script src="js/prefixfree.min.js"></script> <!-- for tabs menu  -->
    <script src="js/tabindex.js"></script><!-- for tabs menu  -->

    <script >

        $( document ).ready(function() {
          var nOfWings = $_GET('n');//n = 1, 2 . 0 - root table top, 1 , 2 - additinal wings
          // console.log(nOfWings );
          // console.log( $_GET('m') );//m = matireal
          initialisation({n : nOfWings,});
      });

        document.querySelector('#item-1').addEventListener('click', function(){window.location.search = '&n=1';}, false);

        document.querySelector('#item-2').addEventListener('click', function(){window.location.search = '&n=0';}, false);

        document.querySelector('#item-3').addEventListener('click', function(){window.location.search = '&n=12';}, false);


        document.querySelector('#changeDim').addEventListener('input', function(e){ 
        var min=$(this).attr('min'), max=$(this).attr('max'), val=parseInt($(this).val()), exkl = $(this).parent().find('i');

       if (val < min || val > max) {console.log(val, min, max);
            $(this).css({color:'red'}); 
            exkl.css({opacity:1, color:'red'});
          } 
          else {console.log('input event',$(this).data());
            $(this).css({color:'black'}); 
            exkl.css({opacity:0, color:'red'});
          } 
             // e.preventDefault();
                  // e.stopPropagation();  

      });

   $('#save-button').on('click', function(event){
          console.log("save button pressed ")
        // event.preventDefault();
    // event.stopImmediatePropagation();
      });

  function dontSubmit (event)
  {
     if (event.keyCode == 13) {
        console.log("enter pressed ")
        $('#save-button').trigger( "click" )
        return false;
     }
  }

  // $('#WrappdimInputModal')
  // .modal({
  //   // keyboard: false
  // })
  // .on('show.bs.modal', function (e) { console.log("modal show");
  // });


  //Get parameters from URL ...?n=1&m=...
  function $_GET(key) {
    var s = window.location.search;
    s = s.match(new RegExp(key + '=([^&=]+)'));
    return s ? s[1] : false;
  }

  var modFlag = false;
  function callModall(target){
   // console.log(target);
  //  console.log(wholeTable.limits[0]);
    var vaL = wholeTable.S[target.data4][target.data2],
        maxLim = wholeTable.S[target.data4].limits[target.data2+'max'],
        minLim = wholeTable.S[target.data4].limits[target.data2+'min'];
        $( "#WrappdimInputModal" ).find('p').html( 'Ограничение: от '+minLim+' до '+maxLim+' мм' );
      $( "#WrappdimInputModal" )
        .modal({keyboard : true})
        .on('shown.bs.modal', function (e) {
          modFlag = true;
          console.log('show modal');
          var that = $( "#WrappdimInputModal" ).find('input');
          that.data('input2target',target);
          that.data(target)
              .attr({
                 "max" : maxLim,       
                 "min" : minLim         
              });
          that.val(vaL).focus().select();
        })

        .on('hide.bs.modal', function (e) {
          var that = $( "#WrappdimInputModal" ).find('input');
          // console.log('hide event',$(this).val())
          var  target_ = that.data('input2target');
          console.log(target_);
          // console.log(that.val());
          wholeTable.S[target_.data4].setSize(parseInt( that.val() ), target_.data2);//set size with checking limits
          $('#'+target_.data4+target_.data2).text(wholeTable.S[target_.data4][target_.data2]).parent().find("td:eq(3)").text(wholeTable.S[target_.data4].S);
          // wholeTable.S[target.data4][target.data2] = that.val();
          console.log('hide.bs.modal');
          console.time('modal');
          if (modFlag) {redraw_mainCountur();}
          modFlag = false;
          console.timeEnd('modal');
           // $(this).find('input').click(function(e){

              // });
        })
       .on('hidden.bs.modal', function (e) { console.log('!!!hiden.bs.modal');
          console.time('modal');
                      e.preventDefault();
                  e.stopPropagation();  
       });
    // return true
    return false;
  }


    $( document ).ready(function() {
      $('.editableTable').find('[data-editable="1"]').click(function() {
        var target = {
          data2 : $(this).data('2'),
          data4 : $(this).data('4'),
        }
        // console.dir(target);
      if (callModall(target)) {return} // successfull modal working
        //else changing by tablice cells
              console.dir('changing by tablice cells');
              // edit text in cells
              var OriginalContent = $(this).text();
              $(this).addClass("cellEditing");
              $(this).html("<input type='number' min='0' value='" + OriginalContent + "' />");
              $(this).children().first().focus();
              $(this).children().first().keypress(function (e) {
                  if (e.which == 13) {
                      var newContent = $(this).val();
                      $(this).parent().text(newContent);
                      // console.log(this);
                      wholeTable.S[target.data4][target.data2] = parseInt(newContent);
                      // $(this).parent().find("td:eq(3)").text(wholeTable.S[1].S);
                      $("#"+target.data4+"S").text(wholeTable.S[target.data4].S);
                      console.log(wholeTable.S[target.data4].S);
                      redraw_mainCountur();
                      $(this).parent().removeClass("cellEditing");


                  }
              });
          $(this).children().first().blur(function(){
              $(this).parent().text(OriginalContent);
              $(this).parent().removeClass("cellEditing");
          });
              $(this).find('input').click(function(e){
                  e.stopPropagation();
              });
          }
          )

  });//]]>

    </script>

    <script type='text/javascript'>//<![CDATA[

  function centring(svgId, divId) {//centring DIM modal on frontSVG
              //Farefox can get size only from parent div.
        var   viewPort={w : document.getElementById(svgId).clientWidth || document.getElementById(svgId).parentNode.clientWidth,
                        h : document.getElementById(svgId).clientHeight || document.getElementById(svgId).parentNode.clientHeight };
     $('#'+divId).css({
            position:'absolute',
            // left : ($(document).width()-viewPort.w)*0.5+(viewPort.w - $('#'+divId).outerWidth())/2,
            left : (viewPort.w - $('#'+divId).outerWidth())/2,
             top : (viewPort.h - $('#'+divId).outerHeight())/2,
          });
  };

        $(window).resize(function(){
         centring('frontView', 'dimInputModal');
        $(window).resize(); //Железобетонно центрируем таблицу
      }, 1000);


  $( document ).ready(function() {

          centring('frontView', 'dimInputModal');

              $("svg text").tooltip({
                  'container': 'body',
                  'placement': 'right'
              });
  });//]]>

    </script>
  <script type="text/javascript">
      var inFormOrLink;
      $('a').on('click', function() { inFormOrLink = true; });
      $('form').on('submit', function() { inFormOrLink = true; });

      $(window).on("beforeunload", function() { 
          return inFormOrLink ? "Do you really want to close?" : 'Это действие приведет к потере введеных ранее данных'; 
          // return inFormOrLink ? "Do you really want to close?" : null; 
      })
  </script>



  </body>
  </html>
  <!-- ================================
  Free for hire
  Skype: zababurinalex;
  Emails:  852gin@gmail.com, alexei.zababurin@gmail.com
  Phone number:+38(050)800-5770
   ===================================== -->